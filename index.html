<!DOCTYPE html> 
<html lang="de">
<head>

    <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
   <title>Snake Game </title>
   <body>

    <h1>Snake Browser Spiel</h1>
    
    

    <p>Drücke W A S D zum Bewegen, SPACE = Boost</p>

   
   <style>
       body {
           display: flex;
           flex-direction: column;
           align-items: center; 
           justify-content: center; 
           min-height: 100vh; 
           margin: 0;
           font-family: Arial, sans-serif; 
           background-color: #ebf1ff;
           
   
           
       }

       canvas {
           border: 0.5px solid #ffffff;
            width: 90vw;      /* passt sich Bildschirmbreite an */
            height: 90vw;     /* bleibt quadratisch */
            max-width: 500px; /* größer als Original nie */
            max-height: 500px;
       }

.mobile-controls {
    display: none;
}


/* damit auf dem handy die tasten funktioniern*/
@media (max-width: 900px) {
    .mobile-controls {
        margin-top: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
    }

    .mobile-controls div {
        display: flex;
        gap: 8px;
    }

    .mobile-controls button {
        width: 65px;
        height: 65px;
        font-size: 26px;
        border: none;
        border-radius: 14px;
        background: #1f2b82;
        color: white;
    }
}

   </style>
</head>

    <canvas id="myCanvas" width="500" height="500"></canvas>

<div class="mobile-controls">
    <button id="up">⬆️</button>
    <div>
        <button id="left">⬅️</button>

        <button id="right">➡️</button>
    </div>
    <button id="down">⬇️</button>
</div>




<script>
//holt das canvas element aus HTML
const canvas = document.getElementById("myCanvas");   
const ctx = canvas.getContext("2d");

//Ein Feld= 25px(500/20)

const gridCount = 20;
const boxSize = canvas.width / gridCount;
const rows = canvas.height / boxSize;
const cols = canvas.width / boxSize;

// Simuliert Tastendruck für Mobile Buttons
function bindButton(id, key){
    const btn = document.getElementById(id);

    btn.addEventListener("touchstart", (e) => {
        e.preventDefault();   // verhindert Handy-Zoom/Scroll
        changeDirection({ key: key });
    });

    btn.addEventListener("click", () => {
        changeDirection({ key: key });
    });
}

canvas.addEventListener("touchstart", () => {
    if (gameOver) restartGame();
});

canvas.addEventListener("click", () => {
    if (gameOver) restartGame();
});


bindButton("up", "w");
bindButton("down", "s");
bindButton("left", "a");
bindButton("right", "d");





//start position der schlange(array = liste aus objekten) (gerade linie aus 3 kasten, kopf zeigt nach rechts)
let snake = [
    { x: 10, y: 10 }, 
    { x: 9,  y: 10 },
    { x: 8,  y: 10 }
];




// bewegungs variablen ( dx= links/rechts ; dy= hoch/ runter )
let dx = 0;
let dy = 0;

let gameStarted = false;
let gameInterval;


let gameOver = false;


//boost am anfang auf false (aus)
let boost = false;



let score = 0;

function restartGame() {
    snake = [
        { x: 10, y: 10 },
        { x: 9, y: 10 },
        { x: 8, y: 10 }
    ];

    dx = 0;
    dy = 0;
    score = 0;
    gameSpeed = 200;
    boost = false;
    gameOver = false;

    spawnFood();
    updateSpeed();
}


//variabel für gamespeed damit die schlange schneller werden kann
let gameSpeed = 200;




const eatSound = new Audio("data:audio/mpeg;base64,SUQzBAAAAAABA1RJVDIAAAAFAAADMVVQAFRBTEIAAAATAAADU3VwZXIgTWFyaW8gV29ybGQAVFBFMQAAAAoAAANOaW50ZW5kbwBUQ09OAAAABgAAA0dhbWUAVERSQwAAAAYAAAMxOTk1AFRTU0UAAAAPAAADTGF2ZjU3LjgzLjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAjAAA59AAKChERERkZGSAgICcnJy4uLjY2PT09RERES0tLUlJSWlpaYWFhaGhvb292dnZ+fn6FhYWMjIyTk5Obm6KioqmpqbCwsLe3t7+/v8bGxs3N1NTU29vb4+Pj6urq8fHx+Pj4//8AAAAATGF2YzU3LjEwAAAAAAAAAAAAAAAAJAJAAAAAAAAAOfT82CGxAAAAAAAAAAAAAAAAAAAAAP/7kGQAD/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7kmRAj/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5JkQI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQQACFxAgAAADvoiKa+iBBAt9ERC//4iO8QAAABC/rufH9AAAAABD/d3P+IAAAAACH/d3c/0AAAAABDn+7u5cQIAAAAAC3/3d8uIEAAAAFvohddP4gQAEC30RE//4iI56AAAIQv7/Ec4gAAAAgT8cfwjR5d5WUcY0R4TywkeKww6O//uSZECP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAE83lYjeKxGjz9KymSB4tYuLfw7SkpNOH2LKNWHQTMdv/U7lw7ZFs9TuXcPsOURWPQPh6x2rFoWYbSAh5mlYYjJ0eU3SspkaI+VisMIeEaVhhjR0s+xWJ0MiMpWUcAQWL3C4TLhOAGBMcxcZiOAcLgMIZbhccE8l8JECEFIeh+Lg9EMnGALBBVh0OMU54x/syoUwwEIE3JcgRc0+daGHQdCJWl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")

eatSound.volume = 0.4




//futter spawnt zufällig im raster
let food = {
    x: Math.floor(Math.random() * cols),
    y: Math.floor(Math.random() * rows)
};


//wenn Taste gedrückt wird = Funktion changeDirection
document.addEventListener("keydown", changeDirection);


let directionChanged = false;



//neue funktion die changediretion heißt und mit event verknüpft ist (event.key)
function changeDirection(event) {

if (gameOver) return;


    if (directionChanged) return;


    // W = hoch (nur wenn nicht gerade runter)(&& damit es für großes und kleines w zutrifft)(!== strikte ungleichheit)(event.key = welche taste gedrückt wurde)
    if ((event.key === "w" || event.key === "W" || event.key === "ArrowUp" ) && dy !== 1) {
        dx = 0; dy = -1;
        directionChanged = true;
    }

    // S = runter (nur wenn nicht gerade hoch)
    if ((event.key === "s" || event.key === "S" || event.key === "ArrowDown") && dy !== -1) {
        dx = 0; dy = 1;
        directionChanged = true;
    }

    // A = links (nur wenn nicht gerade rechts)
    if ((event.key === "a" || event.key === "A" || event.key ==="ArrowLeft") && dx !== 1) {
        dx = -1; dy = 0; 
        directionChanged = true;
    }

    // D = rechts (nur wenn nicht gerade links)
    if ((event.key === "d" || event.key === "D" || event.key === "ArrowRight") && dx !== -1) {
        dx = 1; dy = 0;
        directionChanged = true;
    }

    //schaltet boost ein wenn leertaste gedrückt wird
    if (event.key === " ") {
        boost = true;
    }
}
   




//math.random() = zufallszahl zwischen 0 und 1 ; math.floor() = abrundung(damit ein ganzer Wert generiert wird)
function spawnFood() {
    food = {
        x: Math.floor(Math.random() * cols),
        y: Math.floor(Math.random() * rows)
    };
}

//funktion die den gameloop schneller macht 
function updateSpeed() {
    clearInterval(gameInterval);                        // alten Timer stoppenww
    gameInterval = setInterval(gameLoop, gameSpeed);    // neuen starten
}


//damit es immer wieer neu läuft und neu zeichnet
function gameLoop() {

    if (gameOver) return;

  directionChanged= false;







    for (let y = 0; y < rows; y++) { // läuft von oben nach unten durch alle reihen
        for (let x = 0; x < cols; x++) { //läuft von links nach rechts durch alle Spalten
            ctx.strokeStyle = "#1f2b82"; //füllfarbe von quadrat
            ctx.fillStyle = "#1f2b82"; //randfarbee
            ctx.fillRect(x * boxSize, y * boxSize, boxSize, boxSize); // zeichnet ein vollständig ausgefülltes  Quadrat an den vorgegebenen pixelpositionen
          
        }
    }

        //damit das essen gezeichnet wird
        ctx.fillStyle = "#ffffff";
        ctx.fillRect(food.x * boxSize, food.y * boxSize, boxSize, boxSize);

        //bestimmt die form und farbe von der schlange
        for (let i = 0; i < snake.length; i++) {
            ctx.fillStyle = i === 0 ? "#8492ff" : "#8492ff";
            ctx.fillRect(snake[i].x * boxSize, snake[i].y * boxSize, boxSize, boxSize);
}


    //  Boost = so wie 3 normale Schritte
    let steps = boost ? 3 : 1;

    if (dx !== 0 || dy !== 0) {

    for (let i = 0; i < steps; i++) {

        let newHead = {
            x: snake[0].x + dx,
            y: snake[0].y + dy
        };

        // Wand-Kollision
if (newHead.x < 0 || newHead.x >= cols || newHead.y < 0 || newHead.y >= rows) {
    gameOver = true;
    clearInterval(gameInterval);
    break;
}

// Selbst-Kollision
for (let segment of snake) {
    if (segment.x === newHead.x && segment.y === newHead.y) {
        gameOver = true;
        clearInterval(gameInterval);
        break;
        
        
    }
}





        //vorne nu
        snake.unshift(newHead);

        if (newHead.x === food.x && newHead.y === food.y) {

            
            eatSound.currentTime = 0;
            eatSound.play();

            score++;


    // Snake wird schneller( % = Modulo = gibt den Rest einer Division zurück, somit wird die Schlanger alle drei Schritte schneller 3,6,12,15,18...)
    if (score % 3 === 0 && gameSpeed > 70) {   //&& = UND ( Beide Bedingugngen müssen wahr sein )
        gameSpeed -= 10;                                // Tempo erhöhen
        updateSpeed();                                 // Timer neu starten
    }

            spawnFood();
        } else {

        //letztes element entfernen
        snake.pop();
    }
}

    boost = false;


    //bestimmt die form und farbe von der schlange
    for (let i = 0; i < snake.length; i++) {
        ctx.fillStyle = i === 0 ? "#8492ff" : "#8492ff";
        ctx.fillRect(snake[i].x * boxSize, snake[i].y * boxSize, boxSize, boxSize);
    }
}

//ctx sozusageb pinsel zum zeichnen
ctx.fillStyle= "red";
ctx.font = "20px Arial";
ctx.fillText("Score:"+ score, 5, 25);



if (gameOver) {

    // GAME OVER groß 
    ctx.font = "40px Arial";
    ctx.lineWidth = 5;              // Dicke der weißen Umrandung
    ctx.strokeStyle = "white";      // Außenrand
    ctx.strokeText("GAME OVER", 140, 250);

    ctx.fillStyle = "red";          // Innenfarbe
    ctx.fillText("GAME OVER", 140, 250);


    // ===== Restart Text klein =====
    ctx.font = "16px Arial";
    ctx.fillStyle = "white";
    ctx.fillText("Drücke eine Taste zum Neustart", 140, 280);

     return;
}

}


gameInterval = setInterval(gameLoop, gameSpeed);


document.addEventListener("keydown", function () {
    if (gameOver) {
        restartGame();
    }
});

</script>
</body>
</html>
